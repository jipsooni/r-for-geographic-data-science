<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 6 Exploratory data analysis | R for Geographic Data Science</title>
<meta name="author" content="Stefano De Sabbata">
<meta name="description" content="Print this chapter  6.1 Introduction This practical showcases an exploratory analysis of the distribution of people aged 20 to 24 in Leicester, using the u011 variable from the 2011 Output Area...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 6 Exploratory data analysis | R for Geographic Data Science">
<meta property="og:type" content="book">
<meta property="og:url" content="https://sdesabbata.github.io/r-for-geographic-data-science/exploratory-data-analysis.html">
<meta property="og:image" content="https://sdesabbata.github.io/r-for-geographic-data-science/images/r-for-geographic-data-science-cover.png">
<meta property="og:description" content="Print this chapter  6.1 Introduction This practical showcases an exploratory analysis of the distribution of people aged 20 to 24 in Leicester, using the u011 variable from the 2011 Output Area...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 6 Exploratory data analysis | R for Geographic Data Science">
<meta name="twitter:description" content="Print this chapter  6.1 Introduction This practical showcases an exploratory analysis of the distribution of people aged 20 to 24 in Leicester, using the u011 variable from the 2011 Output Area...">
<meta name="twitter:image" content="https://sdesabbata.github.io/r-for-geographic-data-science/images/r-for-geographic-data-science-cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Geographic Data Science</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li class="book-part">Getting started</li>
<li><a class="" href="introduction-to-r.html"><span class="header-section-number">1</span> Introduction to R</a></li>
<li><a class="" href="r-programming.html"><span class="header-section-number">2</span> R programming</a></li>
<li class="book-part">Data wrangling</li>
<li><a class="" href="selection-and-manipulation.html"><span class="header-section-number">3</span> Selection and manipulation</a></li>
<li><a class="" href="table-operations.html"><span class="header-section-number">4</span> Table operations</a></li>
<li><a class="" href="reproducibility-1.html"><span class="header-section-number">5</span> Reproducibility</a></li>
<li class="book-part">Data analysis</li>
<li><a class="active" href="exploratory-data-analysis.html"><span class="header-section-number">6</span> Exploratory data analysis</a></li>
<li><a class="" href="comparing-data.html"><span class="header-section-number">7</span> Comparing data</a></li>
<li><a class="" href="regression-analysis.html"><span class="header-section-number">8</span> Regression analysis</a></li>
<li class="book-part">Machine learning</li>
<li><a class="" href="supervised-machine-learning.html"><span class="header-section-number">9</span> Supervised machine learning</a></li>
<li><a class="" href="unsupervised-machine-learning.html"><span class="header-section-number">10</span> Unsupervised machine learning</a></li>
<li class="book-part">Postface</li>
<li><a class="" href="lecture-slides.html">Lecture slides</a></li>
<li><a class="" href="reading-list.html">Reading list</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/sdesabbata/r-for-geographic-data-science">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="exploratory-data-analysis" class="section level1" number="6">
<h1>
<span class="header-section-number">6</span> Exploratory data analysis<a class="anchor" aria-label="anchor" href="#exploratory-data-analysis"><i class="fas fa-link"></i></a>
</h1>
<p><br><small><a href="javascript:if(window.print)window.print()">Print this chapter</a></small></p>
<div id="introduction" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction"><i class="fas fa-link"></i></a>
</h2>
<p>This practical showcases an exploratory analysis of the distribution of people aged 20 to 24 in Leicester, using the <code>u011</code> variable from the <a href="https://github.com/geogale/2011OAC">2011 Output Area Classification (2011OAC)</a> dataset. Create a new R project for this practical session and create a new RMarkdown document to replicate the analysis in this document.</p>
<p>Once the document is set up, start by adding the first R code snipped including the code below, which is loads the 2011OAC dataset and the libraries used for the practical session.</p>
<div class="sourceCode" id="cb216"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span>
<span class="va">leicester_2011OAC</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"2011_OAC_Raw_uVariables_Leicester.csv"</span><span class="op">)</span></code></pre></div>
</div>
<div id="gglot2-recap" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> GGlot2 recap<a class="anchor" aria-label="anchor" href="#gglot2-recap"><i class="fas fa-link"></i></a>
</h2>
<p>As seen in the practical session 401, the <a href="https://ggplot2.tidyverse.org"><code>ggplot2</code> library</a> is part of the Tidyverse, and it offers a series of functions for creating graphics <strong>declaratively</strong>, based on the concepts outlined in the Grammar of Graphics. While the <code>dplyr</code> library offers functionalities that cover <em>data manipulation</em> and <em>variable transformations</em>, the <code>ggplot2</code> library offers functionalities that allow to specify elements, define guides, and apply scale and coordinate system transformations.</p>
<ul>
<li>
<strong>Marks</strong> can be specified in <code>ggplot2</code> using the <a href="https://ggplot2.tidyverse.org/reference/index.html#section-layer-geoms"><code>geom_</code> functions</a>.</li>
<li>The mapping of variables (table columns) to <strong>visual variables</strong> can be specified in <code>ggplot2</code> using the <a href="https://ggplot2.tidyverse.org/reference/aes.html"><code>aes</code> element</a>.</li>
<li>Furthermore, the <code>ggplot2</code> library:
<ul>
<li>automatically adds all necessary <strong>guides</strong> using default table column names, and additional functions can be used to overwrite the defaults;</li>
<li>provides a wide range of <a href="https://ggplot2.tidyverse.org/reference/index.html#section-scales"><code>scale_</code> functions</a> that can be used to control the <strong>scales</strong> of all visual variables;</li>
<li>provides a series of <a href="https://ggplot2.tidyverse.org/reference/index.html#section-coordinate-systems"><code>coord_</code> fucntions</a> that allow transforming the <strong>coordinate system</strong>.</li>
</ul>
</li>
</ul>
<p>Check out the <a href="https://ggplot2.tidyverse.org/reference/index.html"><code>ggplot2</code> reference</a> for all the details about the functions and options discussed below.</p>
</div>
<div id="data-visualisation" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Data visualisation<a class="anchor" aria-label="anchor" href="#data-visualisation"><i class="fas fa-link"></i></a>
</h2>
<div id="distributions" class="section level3" number="6.3.1">
<h3>
<span class="header-section-number">6.3.1</span> Distributions<a class="anchor" aria-label="anchor" href="#distributions"><i class="fas fa-link"></i></a>
</h3>
<p>We start the analysis with a simple histogram, to explore the distribution of the variable <code>u011</code>. RMarkdown allows specifying the height (as well as the width) of the figure as an option for the R snipped, as shown in the example typed out in plain text below.</p>
<pre><code>```{r, echo=TRUE, message=FALSE, warning=FALSE, fig.height = 4}
leicester_2011OAC %&gt;%
  ggplot2::ggplot(
    aes(
      x = u011
    )
  ) +
  ggplot2::geom_histogram(binwidth = 5) +
  ggplot2::theme_bw()
```</code></pre>
<p>The snipped and barchart is included in output documents, as shown below.</p>
<div class="sourceCode" id="cb218"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leicester_2011OAC</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">u011</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="300-exploratory_files/figure-html/unnamed-chunk-3-1.png" width="672"></div>
<p>If we aim to explore how that portion of the population is distributed among the different supergroups of the 2011OAC, there are a number of charts that would allow us to visualise that relationship.</p>
<p>For instance, the barchart above can be enhanced through the use of the visual variable colour and the <code>fill</code> option. The graphic below uses a few options seen in the practical session 401 to create a stacked barchart, where sections of each bar are filled with the colour associated with a 2011OAC supergroup.</p>
<div class="sourceCode" id="cb219"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leicester_2011OAC</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">u011</span>,
      fill <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">supgrpname</span>, <span class="va">supgrpcode</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Leicester's young adults"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>
    fill <span class="op">=</span> <span class="st">"2011 Output Area\nClassification\n(supergroups)"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Residents aged 20 to 24"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Count"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>
    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#e41a1c"</span>, <span class="st">"#f781bf"</span>, <span class="st">"#ff7f00"</span>, <span class="st">"#a65628"</span>, <span class="st">"#984ea3"</span>, <span class="st">"#377eb8"</span>, <span class="st">"#ffff33"</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="300-exploratory_files/figure-html/unnamed-chunk-4-1.png" width="672"></div>
<p>However, the graphic above is not extremely clear. A boxplot and a violin plot created from the same data are shown below. In both cases, the parameter <code>axis.text.x</code> of the function theme is set to <code>element_text(angle = 90, hjust = 1)</code> in order to orientate the labels on the x-axis vertically, as the supergroup names are rather long, and they would overlap one-another if set horizontally on the x-axis. In both cases, the option <code>fig.height</code> of the R snippet in RMarkdown should be set to a higher value (e.g., <code>5</code>) to allow for sufficient room for the supergroup names.</p>
<div class="sourceCode" id="cb220"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leicester_2011OAC</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">supgrpname</span>, <span class="va">supgrpcode</span><span class="op">)</span>,
      y <span class="op">=</span> <span class="va">u011</span>,
      fill <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">supgrpname</span>, <span class="va">supgrpcode</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Leicester's young adults"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>
    fill <span class="op">=</span> <span class="st">"2011 Output Area\nClassification\n(supergroups)"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"2011 Output Area Classification (supergroups)"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Residents aged 20 to 24"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>
    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#e41a1c"</span>, <span class="st">"#f781bf"</span>, <span class="st">"#ff7f00"</span>, <span class="st">"#a65628"</span>, <span class="st">"#984ea3"</span>, <span class="st">"#377eb8"</span>, <span class="st">"#ffff33"</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="300-exploratory_files/figure-html/unnamed-chunk-5-1.png" width="672"></div>
<div class="sourceCode" id="cb221"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leicester_2011OAC</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">supgrpname</span>, <span class="va">supgrpcode</span><span class="op">)</span>,
      y <span class="op">=</span> <span class="va">u011</span>,
      fill <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">supgrpname</span>, <span class="va">supgrpcode</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html">geom_violin</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Leicester's young adults"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>
    fill <span class="op">=</span> <span class="st">"2011 Output Area\nClassification\n(supergroups)"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"2011 Output Area Classification (supergroups)"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Residents aged 20 to 24"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>
    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#e41a1c"</span>, <span class="st">"#f781bf"</span>, <span class="st">"#ff7f00"</span>, <span class="st">"#a65628"</span>, <span class="st">"#984ea3"</span>, <span class="st">"#377eb8"</span>, <span class="st">"#ffff33"</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="300-exploratory_files/figure-html/unnamed-chunk-6-1.png" width="672"></div>
</div>
<div id="relationships" class="section level3" number="6.3.2">
<h3>
<span class="header-section-number">6.3.2</span> Relationships<a class="anchor" aria-label="anchor" href="#relationships"><i class="fas fa-link"></i></a>
</h3>
<p>The first barchart above seems to illustrate that the distribution might be skewed towards the left, with most values seemingly below 50. However, that tells only part of the story about how people aged 20 to 24 are distributed in Leicester. In fact, each Output Area (OA) has a different total population. So, a higher number of people aged 20 to 24 living in an OA might be simply due to the OA been more populous than others. Thus, the next step is to compare <code>u011</code> to <code>Total_Population</code>, for instance, through a scatterplot such as the one seen in the practical session 401, reported below.</p>
<div class="sourceCode" id="cb222"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leicester_2011OAC</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">Total_Population</span>,
      y <span class="op">=</span> <span class="va">u011</span>,
      colour <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">supgrpname</span>, <span class="va">supgrpcode</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Leicester's young adults"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>
    colour <span class="op">=</span> <span class="st">"2011 Output Area\nClassification\n(supergroups)"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Total number of residents"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Residents aged 20 to 24"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_colour_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_colour_manual</a></span><span class="op">(</span>
    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#e41a1c"</span>, <span class="st">"#f781bf"</span>, <span class="st">"#ff7f00"</span>, <span class="st">"#a65628"</span>, <span class="st">"#984ea3"</span>, <span class="st">"#377eb8"</span>, <span class="st">"#ffff33"</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="300-exploratory_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
</div>
</div>
<div id="exercise-304.1" class="section level2" number="6.4">
<h2>
<span class="header-section-number">6.4</span> Exercise 304.1<a class="anchor" aria-label="anchor" href="#exercise-304.1"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Question 304.1.1:</strong> Which one of the boxplot or violin plot above do you think better illustrate the different distributions, and what do the two graphics say about the distribution of people aged 20 to 24 in Leicester? Write a short answer in your RMarkdown document (max 200 words).</p>
<p><strong>Question 304.1.2:</strong> Create a jittered points plot (see <a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html"><code>geom_jitter</code></a>) visualisation illustrating the same data shown in the boxplot and violin plot above.</p>
<p><strong>Question 304.1.3:</strong> Create the code necessary to calculate a new column named <code>perc_age_20_to_24</code>, which is the percentage of people aged 20 to 24 (i.e., <code>u011</code>) over total population per OA <code>Total_Population</code>, and create a boxplot visualising the distribution of the variable per 2011OAC supergroup.</p>
</div>
<div id="exploratory-statistics" class="section level2" number="6.5">
<h2>
<span class="header-section-number">6.5</span> Exploratory statistics<a class="anchor" aria-label="anchor" href="#exploratory-statistics"><i class="fas fa-link"></i></a>
</h2>
<p>The graphics above provide preliminary evidence that the distribution of people aged 20 to 24 might, in fact, be different in different 2011 supergroups. In the remainder of the practical session, we are going to explore that hypothesis further. First, load the necessary statistical libraries.</p>
<p>The code below calculates the percentage of people aged 20 to 24 (i.e., <code>u011</code>) over total population per OA, but it also recodes (see <a href="https://dplyr.tidyverse.org/reference/recode.html">recode</a>) the names of the 2011OAC supergroups to a shorter 2-letter version, which is useful for the tables presented further below.</p>
<p>Only the OA code, the recoded 2011OAC supergroup name, and the newly created <code>perc_age_20_to_24</code> are retained in the new table <code>leic_2011OAC_20to24</code>. Such a step is sometimes useful as stepping stone for further analysis and can make the code easier to read further down the line. Sometimes it is also a necessary step when interacting with certain libraries, which are not fully compatible with Tidyverse libraries, such as <code>leveneTest</code>.</p>
<div class="sourceCode" id="cb223"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leic_2011OAC_20to24</span> <span class="op">&lt;-</span> <span class="va">leicester_2011OAC</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>
    perc_age_20_to_24 <span class="op">=</span> <span class="op">(</span><span class="va">u011</span> <span class="op">/</span> <span class="va">Total_Population</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>,
    supgrpname <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/recode.html">recode</a></span><span class="op">(</span><span class="va">supgrpname</span>, 
      `Suburbanites` <span class="op">=</span> <span class="st">"SU"</span>,
      `Cosmopolitans` <span class="op">=</span> <span class="st">"CP"</span>,
      `Multicultural Metropolitans` <span class="op">=</span> <span class="st">"MM"</span>,
      `Ethnicity Central` <span class="op">=</span> <span class="st">"EC"</span>,
      `Constrained City Dwellers` <span class="op">=</span> <span class="st">"CD"</span>,
      `Hard-Pressed Living` <span class="op">=</span> <span class="st">"HP"</span>,
      `Urbanites` <span class="op">=</span> <span class="st">"UR"</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">OA11CD</span>, <span class="va">supgrpname</span>, <span class="va">perc_age_20_to_24</span><span class="op">)</span>

<span class="va">leic_2011OAC_20to24</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">OA11CD</th>
<th align="left">supgrpname</th>
<th align="right">perc_age_20_to_24</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">E00069517</td>
<td align="left">SU</td>
<td align="right">4.153355</td>
</tr>
<tr class="even">
<td align="left">E00069514</td>
<td align="left">CP</td>
<td align="right">30.650155</td>
</tr>
<tr class="odd">
<td align="left">E00169516</td>
<td align="left">MM</td>
<td align="right">12.316716</td>
</tr>
<tr class="even">
<td align="left">E00169048</td>
<td align="left">MM</td>
<td align="right">6.956522</td>
</tr>
<tr class="odd">
<td align="left">E00169044</td>
<td align="left">MM</td>
<td align="right">6.211180</td>
</tr>
</tbody>
</table></div>
<div id="descriptive-statistics" class="section level3" number="6.5.1">
<h3>
<span class="header-section-number">6.5.1</span> Descriptive statistics<a class="anchor" aria-label="anchor" href="#descriptive-statistics"><i class="fas fa-link"></i></a>
</h3>
<p>The first step of any statistical analysis or modelling should be to explore the <em>“shape”</em> of the data involved, by looking at the descriptive statistics of all variables involved. The function <code>stat.desc</code> of the <code>pastecs</code> library provides three series of descriptive statistics.</p>
<ul>
<li>
<code>base</code>:
<ul>
<li>
<code>nbr.val</code>: overall number of values in the dataset;</li>
<li>
<code>nbr.null</code>: number of <code>NULL</code> values – NULL is often returned by expressions and functions whose values are undefined;</li>
<li>
<code>nbr.na</code>: number of <code>NA</code>s – missing value indicator;</li>
</ul>
</li>
<li>
<code>desc</code>:
<ul>
<li>
<code>min</code> (see also <code>min</code> function): <strong>minimum</strong> value in the dataset;</li>
<li>
<code>max</code> (see also <code>max</code> function): <strong>minimum</strong> value in the dataset;</li>
<li>
<code>range</code>: difference between <code>min</code> and <code>max</code> (different from <code><a href="https://rdrr.io/r/base/range.html">range()</a></code>);</li>
<li>
<code>sum</code> (see also <code>sum</code> function): sum of the values in the dataset;</li>
<li>
<code>median</code> (see also <code>median</code> function): <strong>median</strong>, that is the value separating the higher half from the lower half the values</li>
<li>
<code>mean</code> (see also <code>mean</code> function): <strong>arithmetic mean</strong>, that is <code>sum</code> over the number of values not <code>NA</code>;</li>
<li>
<code>SE.mean</code>: <strong>standard error of the mean</strong> – estimation of the variability of the mean calculated on different samples of the data (see also <em>central limit theorem</em>);</li>
<li>
<code>CI.mean.0.95</code>: <strong>95% confidence interval of the mean</strong> – indicates that there is a 95% probability that the actual mean is within that distance from the sample mean;</li>
<li>
<code>var</code>: <strong>variance</strong> (<span class="math inline">\(\sigma^2\)</span>), it quantifies the amount of variation as the average of squared distances from the mean;</li>
<li>
<code>std.dev</code>: <strong>standard deviation</strong> (<span class="math inline">\(\sigma\)</span>), it quantifies the amount of variation as the square root of the variance;</li>
<li>
<code>coef.var</code>: <strong>variation coefficient</strong> it quantifies the amount of variation as the standard deviation divided by the mean;</li>
</ul>
</li>
<li>
<code>norm</code> (default is <code>FALSE</code>, use <code>norm = TRUE</code> to include it in the output):
<ul>
<li>
<code>skewness</code>: <strong>skewness</strong> value indicates
<ul>
<li>positive: the distribution is skewed towards the left;</li>
<li>negative: the distribution is skewed towards the right;</li>
</ul>
</li>
<li>
<code>kurtosis</code>: <strong>kurtosis</strong> value indicates:
<ul>
<li>positive: heavy-tailed distribution;</li>
<li>negative: flat distribution;</li>
</ul>
</li>
<li>
<code>skew.2SE</code> and <code>kurt.2SE</code>: skewness and kurtosis divided by 2 standard errors. If greater than 1, the respective statistics is significant (<em>p &lt; .05</em>);</li>
<li>
<code>normtest.W</code>: test statistics for the <strong>Shapiro–Wilk test</strong> for normality;</li>
<li>
<code>normtest.p</code>: significance for the <strong>Shapiro–Wilk test</strong> for normality.</li>
</ul>
</li>
</ul>
<p>The Shapiro–Wilk test compares the distribution of a variable with a normal distribution having the same mean and standard deviation. The null hypothesis of the Shapiro–Wilk test is that the sample is normally distributed, thus if <code>normtest.p</code> is lower than <code>0.01</code> (i.e., <em>p &lt; .01</em>), the test indicates that the distribution is most probably not normal. The threshold to accept or reject a hypothesis is arbitrary and based on conventions, where <em>p &lt; .01</em> is the most commonly accepted threshold, or <em>p &lt; .05</em> for relatively small data sample (e.g., 30 cases).</p>
<p>The next step is thus to apply the <code>stat.desc</code> to the variable we are currently exploring (i.e., <code>perc_age_20_to_24</code>), including the <code>norm</code> section.</p>
<div class="sourceCode" id="cb224"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leic_2011OAC_20to24_stat_desc</span> <span class="op">&lt;-</span> <span class="va">leic_2011OAC_20to24</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">perc_age_20_to_24</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">pastecs</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pastecs/man/stat.desc.html">stat.desc</a></span><span class="op">(</span>norm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
  
<span class="va">leic_2011OAC_20to24_stat_desc</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left"></th>
<th align="right">perc_age_20_to_24</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">nbr.val</td>
<td align="right">969.000</td>
</tr>
<tr class="even">
<td align="left">nbr.null</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">nbr.na</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">min</td>
<td align="right">1.064</td>
</tr>
<tr class="odd">
<td align="left">max</td>
<td align="right">60.751</td>
</tr>
<tr class="even">
<td align="left">range</td>
<td align="right">59.687</td>
</tr>
<tr class="odd">
<td align="left">sum</td>
<td align="right">10238.502</td>
</tr>
<tr class="even">
<td align="left">median</td>
<td align="right">7.514</td>
</tr>
<tr class="odd">
<td align="left">mean</td>
<td align="right">10.566</td>
</tr>
<tr class="even">
<td align="left">SE.mean</td>
<td align="right">0.304</td>
</tr>
<tr class="odd">
<td align="left">CI.mean.0.95</td>
<td align="right">0.596</td>
</tr>
<tr class="even">
<td align="left">var</td>
<td align="right">89.386</td>
</tr>
<tr class="odd">
<td align="left">std.dev</td>
<td align="right">9.454</td>
</tr>
<tr class="even">
<td align="left">coef.var</td>
<td align="right">0.895</td>
</tr>
<tr class="odd">
<td align="left">skewness</td>
<td align="right">2.710</td>
</tr>
<tr class="even">
<td align="left">skew.2SE</td>
<td align="right">17.249</td>
</tr>
<tr class="odd">
<td align="left">kurtosis</td>
<td align="right">7.707</td>
</tr>
<tr class="even">
<td align="left">kurt.2SE</td>
<td align="right">24.549</td>
</tr>
<tr class="odd">
<td align="left">normtest.W</td>
<td align="right">0.645</td>
</tr>
<tr class="even">
<td align="left">normtest.p</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table></div>
<p>The table above tells us that all 969 OA in Leicester have a valid value for the variable <code>perc_age_20_to_24</code>, as no <code>NULL</code> nor <code>NA</code> value have been found. The values vary from about 1% to almost 61%, with an average value of 11% of the population in an OA aged between 20 and 24.</p>
<p>The short paragraph above is reporting on the values on the table, taking advantage of two features of RMarkdown. First, the output of the <code>stat.desc</code> function in the snippet further above is stored in the variable <code>leic_2011OAC_20to24_stat_desc</code>, which is then a valid variable for the rest of the document. Second, RMarkdown allows for in-line R snippets, that can also refer to variables defined in any snippet above the text. As such, the source of the paragraph above reads as below, with the in-line R snipped opened by a single grave accent (i.e., <code>`</code>) followed by a lowercase <code>r</code> and closed by another single grave accent.</p>
<p>Having included all the code above into an RMarkdown document, copy the text below verbatim into the same RMarkdown document and make sure that you understand how the code in the in-line R snippets works.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="exploratory-data-analysis.html#cb225-1" aria-hidden="true" tabindex="-1"></a>The table above tells us that all <span class="st">`</span><span class="at">r "\u0060r leic_2011OAC_20to24_stat_desc[</span><span class="sc">\"</span><span class="at">nbr.val</span><span class="sc">\"</span><span class="at">,</span></span>
<span id="cb225-2"><a href="exploratory-data-analysis.html#cb225-2" aria-hidden="true" tabindex="-1"></a><span class="sc">\"</span><span class="at">perc_age_20_to_24</span><span class="sc">\"</span><span class="at">] %&gt;% round(digits = 0)\u0060"</span><span class="st">`</span> OA <span class="cf">in</span> Leicester have a valid </span>
<span id="cb225-3"><a href="exploratory-data-analysis.html#cb225-3" aria-hidden="true" tabindex="-1"></a>value <span class="cf">for</span> the variable <span class="st">`</span><span class="at">perc_age_20_to_24</span><span class="st">`</span>, as no <span class="st">`</span><span class="at">r "\u0060NULL\u0060"</span><span class="st">`</span> nor <span class="st">`</span><span class="at">r </span></span>
<span id="cb225-4"><a href="exploratory-data-analysis.html#cb225-4" aria-hidden="true" tabindex="-1"></a><span class="at">"\u0060NA\u0060"</span><span class="st">`</span> value have been found.The values vary from about <span class="st">`</span><span class="at">r "\u0060r </span></span>
<span id="cb225-5"><a href="exploratory-data-analysis.html#cb225-5" aria-hidden="true" tabindex="-1"></a><span class="at">leic_2011OAC_20to24_stat_desc[</span><span class="sc">\"</span><span class="at">min</span><span class="sc">\"</span><span class="at">, </span><span class="sc">\"</span><span class="at">perc_age_20_to_24</span><span class="sc">\"</span><span class="at">] %&gt;% round(digits = </span></span>
<span id="cb225-6"><a href="exploratory-data-analysis.html#cb225-6" aria-hidden="true" tabindex="-1"></a><span class="at">0)\u0060"</span><span class="st">`</span>% to almost <span class="st">`</span><span class="at">r "\u0060r leic_2011OAC_20to24_stat_desc[</span><span class="sc">\"</span><span class="at">max</span><span class="sc">\"</span><span class="at">, </span></span>
<span id="cb225-7"><a href="exploratory-data-analysis.html#cb225-7" aria-hidden="true" tabindex="-1"></a><span class="sc">\"</span><span class="at">perc_age_20_to_24</span><span class="sc">\"</span><span class="at">] %&gt;% round(digits = 0)\u0060"</span><span class="st">`</span>%, with an average value of </span>
<span id="cb225-8"><a href="exploratory-data-analysis.html#cb225-8" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">r "\u0060r leic_2011OAC_20to24_stat_desc[</span><span class="sc">\"</span><span class="at">mean</span><span class="sc">\"</span><span class="at">, </span><span class="sc">\"</span><span class="at">perc_age_20_to_24</span><span class="sc">\"</span><span class="at">] %&gt;% </span></span>
<span id="cb225-9"><a href="exploratory-data-analysis.html#cb225-9" aria-hidden="true" tabindex="-1"></a><span class="at">round(digits = 0)\u0060"</span><span class="st">`</span>% of the population <span class="cf">in</span> an OA aged between <span class="dv">20</span> and <span class="fl">24.</span> </span></code></pre></div>
<p>If the data described by statistics presented in the table above was a random sample of a population, the 95% confidence interval <code>CI.mean.0.95</code> would indicate that we can be 95% confident that the actual mean of the distribution is somewhere between 10.566 <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code> 0.596 <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code> 9.97% and 10.566 <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> 0.596 <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code> 11.162%.</p>
<p>However, this is not a sample. Thus the statistical interpretation is not valid, in the same way that the <code>sum</code> values doesn’t make sense, as it is the sum of a series of percentages.</p>
<p>Both <code>skew.2SE</code> and <code>kurt.2SE</code> are greater than <code>1</code>, which indicate that the <code>skewness</code> and <code>kurtosis</code> values are significant (<em>p &lt; .05</em>). The <code>skewness</code> is positive, which indicates that the distribution is skewed towards the left (low values). The <code>kurtosis</code> is positive, which indicates that the distribution is heavy-tailed.</p>
<p>As such, <code>perc_age_20_to_24</code> having a heavy-tailed distribution skewed towards low values, it is not surprising that the <code>normtest.p</code> value indicates that the Shapiro–Wilk test is significant, which indicates that the distribution is not normal.</p>
<p>The code below present the output of the <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.1/topics/shapiro.test"><code>shapiro.test</code> function</a>, which only present the outcome of a Shapiro–Wilk test on the values provided as input. The output values are the same as the values reported by the <code>norm</code> section of <code>stat.desc</code>. Note that the <code>shapiro.test</code> function require the argument to be a numeric vector. Thus the <a href="https://dplyr.tidyverse.org/reference/pull.html"><code>pull</code> function</a> must be used to extract the <code>perc_age_20_to_24</code> column from <code>leic_2011OAC_20to24</code> as a vector, whereas using <code>select</code> with a single column name as the argument would produce as output a table with a single column.</p>
<div class="sourceCode" id="cb226"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leic_2011OAC_20to24</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">perc_age_20_to_24</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/shapiro.test.html">shapiro.test</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  .
## W = 0.64491, p-value &lt; 2.2e-16</code></pre>
<p>The two code snippets below can be used to visualise a density-based histogram including the shape of a normal distribution having the same mean and standard deviation, and a Q-Q plot, to visually confirm the fact that <code>perc_age_20_to_24</code> is not normally distributed.</p>
<div class="sourceCode" id="cb228"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leic_2011OAC_20to24</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">perc_age_20_to_24</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      y <span class="op">=</span><span class="va">..density..</span>
    <span class="op">)</span>,
    binwidth <span class="op">=</span> <span class="fl">5</span>
  <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html">stat_function</a></span><span class="op">(</span>
    fun <span class="op">=</span> <span class="va">dnorm</span>, 
    args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      mean <span class="op">=</span> <span class="va">leic_2011OAC_20to24</span> <span class="op">%&gt;%</span> <span class="fu">pull</span><span class="op">(</span><span class="va">perc_age_20_to_24</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="op">)</span>,
      sd <span class="op">=</span> <span class="va">leic_2011OAC_20to24</span> <span class="op">%&gt;%</span> <span class="fu">pull</span><span class="op">(</span><span class="va">perc_age_20_to_24</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="op">)</span>
    <span class="op">)</span>,
    colour <span class="op">=</span> <span class="st">"red"</span>, size <span class="op">=</span> <span class="fl">1</span>
  <span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="300-exploratory_files/figure-html/unnamed-chunk-13-1.png" width="288"></div>
<p>A Q-Q plot in R can be created using a variety of functions. In the example below, the plot is created using the <a href="https://ggplot2.tidyverse.org/reference/geom_qq.html"><code>stat_qq</code> and <code>stat_qq_line</code> functions</a> of the <code>ggplot2</code> library. Note that the <code>perc_age_20_to_24</code> variable is mapped to a particular option of <code>aes</code> that is <code>sample</code>.</p>
<p>If <code>perc_age_20_to_24</code> had been normally distributed, the dots in the Q-Q plot would be distributed straight on the line included in the plot.</p>
<div class="sourceCode" id="cb229"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leic_2011OAC_20to24</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      sample <span class="op">=</span> <span class="va">perc_age_20_to_24</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_qq.html">stat_qq</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_qq.html">stat_qq_line</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="300-exploratory_files/figure-html/unnamed-chunk-14-1.png" width="288"></div>
</div>
</div>
<div id="exercise-304.2" class="section level2" number="6.6">
<h2>
<span class="header-section-number">6.6</span> Exercise 304.2<a class="anchor" aria-label="anchor" href="#exercise-304.2"><i class="fas fa-link"></i></a>
</h2>
<p>Create a new RMarkdown document, and add the code necessary to recreate the table <code>leic_2011OAC_20to24</code> used in the example above. Use the code below to re-shape the table <code>leic_2011OAC_20to24</code> by pivoting the <code>perc_age_20_to_24</code> column wider into multiple columns using <code>supgrpname</code> as new column names.</p>
<div class="sourceCode" id="cb230"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leic_2011OAC_20to24_supgrp</span> <span class="op">&lt;-</span> <span class="va">leic_2011OAC_20to24</span> <span class="op">%&gt;%</span>
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>
    names_from <span class="op">=</span> <span class="va">supgrpname</span>,
    values_from <span class="op">=</span> <span class="va">perc_age_20_to_24</span>
  <span class="op">)</span></code></pre></div>
<p>That manipulation creates one column per supergroup, containing the <code>perc_age_20_to_24</code> if the OA is part of that supergroup, or an <code>NA</code> value if the OA is not part of the supergroup. The transformation is illustrated in the two tables below. The first shows an extract from the original <code>leic_2011OAC_20to24</code> dataset, followed by the wide version <code>leic_2011OAC_20to24_supgrp</code>.</p>
<div class="sourceCode" id="cb231"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leic_2011OAC_20to24</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_min</a></span><span class="op">(</span><span class="va">OA11CD</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">OA11CD</th>
<th align="left">supgrpname</th>
<th align="right">perc_age_20_to_24</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">E00068657</td>
<td align="left">HP</td>
<td align="right">6.053</td>
</tr>
<tr class="even">
<td align="left">E00068658</td>
<td align="left">MM</td>
<td align="right">6.964</td>
</tr>
<tr class="odd">
<td align="left">E00068659</td>
<td align="left">MM</td>
<td align="right">8.383</td>
</tr>
<tr class="even">
<td align="left">E00068660</td>
<td align="left">MM</td>
<td align="right">4.643</td>
</tr>
<tr class="odd">
<td align="left">E00068661</td>
<td align="left">MM</td>
<td align="right">10.625</td>
</tr>
<tr class="even">
<td align="left">E00068662</td>
<td align="left">MM</td>
<td align="right">8.284</td>
</tr>
<tr class="odd">
<td align="left">E00068663</td>
<td align="left">MM</td>
<td align="right">8.357</td>
</tr>
<tr class="even">
<td align="left">E00068664</td>
<td align="left">MM</td>
<td align="right">3.597</td>
</tr>
<tr class="odd">
<td align="left">E00068665</td>
<td align="left">MM</td>
<td align="right">7.068</td>
</tr>
<tr class="even">
<td align="left">E00068666</td>
<td align="left">MM</td>
<td align="right">5.864</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb232"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leic_2011OAC_20to24_supgrp</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_min</a></span><span class="op">(</span><span class="va">OA11CD</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">OA11CD</th>
<th align="right">SU</th>
<th align="right">CP</th>
<th align="right">MM</th>
<th align="right">EC</th>
<th align="right">CD</th>
<th align="right">HP</th>
<th align="right">UR</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">E00068657</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">6.053</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">E00068658</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">6.964</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">E00068659</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">8.383</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">E00068660</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">4.643</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">E00068661</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">10.625</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">E00068662</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">8.284</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">E00068663</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">8.357</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">E00068664</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">3.597</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">E00068665</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">7.068</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">E00068666</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">5.864</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table></div>
<p><strong>Question 304.2.1:</strong> The code below uses the newly created <code>leic_2011OAC_20to24_supgrp</code> table to calculate the descriptive statistics calculated for the variable <code>leic_2011OAC_20to24</code> for each supergroup. Is <code>leic_2011OAC_20to24</code> normally distributed in any of the subgroups? If yes, which supergroups and based on which values do you justify that claim? (Write up to 200 words)</p>
<div class="sourceCode" id="cb233"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">leic_2011OAC_20to24_supgrp</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">OA11CD</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">pastecs</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pastecs/man/stat.desc.html">stat.desc</a></span><span class="op">(</span>norm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left"></th>
<th align="right">SU</th>
<th align="right">CP</th>
<th align="right">MM</th>
<th align="right">EC</th>
<th align="right">CD</th>
<th align="right">HP</th>
<th align="right">UR</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">nbr.val</td>
<td align="right">54.000</td>
<td align="right">83.000</td>
<td align="right">573.000</td>
<td align="right">57.000</td>
<td align="right">36.000</td>
<td align="right">101.000</td>
<td align="right">65.000</td>
</tr>
<tr class="even">
<td align="left">nbr.null</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">nbr.na</td>
<td align="right">915.000</td>
<td align="right">886.000</td>
<td align="right">396.000</td>
<td align="right">912.000</td>
<td align="right">933.000</td>
<td align="right">868.000</td>
<td align="right">904.000</td>
</tr>
<tr class="even">
<td align="left">min</td>
<td align="right">1.462</td>
<td align="right">3.141</td>
<td align="right">2.490</td>
<td align="right">2.066</td>
<td align="right">1.064</td>
<td align="right">1.515</td>
<td align="right">2.256</td>
</tr>
<tr class="odd">
<td align="left">max</td>
<td align="right">9.562</td>
<td align="right">60.751</td>
<td align="right">52.507</td>
<td align="right">36.299</td>
<td align="right">12.963</td>
<td align="right">11.261</td>
<td align="right">13.505</td>
</tr>
<tr class="even">
<td align="left">range</td>
<td align="right">8.100</td>
<td align="right">57.609</td>
<td align="right">50.018</td>
<td align="right">34.233</td>
<td align="right">11.899</td>
<td align="right">9.746</td>
<td align="right">11.249</td>
</tr>
<tr class="odd">
<td align="left">sum</td>
<td align="right">295.867</td>
<td align="right">2646.551</td>
<td align="right">5214.286</td>
<td align="right">838.415</td>
<td align="right">252.108</td>
<td align="right">619.266</td>
<td align="right">372.010</td>
</tr>
<tr class="even">
<td align="left">median</td>
<td align="right">5.476</td>
<td align="right">30.457</td>
<td align="right">7.880</td>
<td align="right">10.881</td>
<td align="right">6.854</td>
<td align="right">6.053</td>
<td align="right">5.380</td>
</tr>
<tr class="odd">
<td align="left">mean</td>
<td align="right">5.479</td>
<td align="right">31.886</td>
<td align="right">9.100</td>
<td align="right">14.709</td>
<td align="right">7.003</td>
<td align="right">6.131</td>
<td align="right">5.723</td>
</tr>
<tr class="even">
<td align="left">SE.mean</td>
<td align="right">0.233</td>
<td align="right">1.574</td>
<td align="right">0.230</td>
<td align="right">1.373</td>
<td align="right">0.471</td>
<td align="right">0.172</td>
<td align="right">0.264</td>
</tr>
<tr class="odd">
<td align="left">CI.mean.0.95</td>
<td align="right">0.467</td>
<td align="right">3.131</td>
<td align="right">0.452</td>
<td align="right">2.751</td>
<td align="right">0.956</td>
<td align="right">0.341</td>
<td align="right">0.528</td>
</tr>
<tr class="even">
<td align="left">var</td>
<td align="right">2.929</td>
<td align="right">205.556</td>
<td align="right">30.285</td>
<td align="right">107.523</td>
<td align="right">7.983</td>
<td align="right">2.980</td>
<td align="right">4.545</td>
</tr>
<tr class="odd">
<td align="left">std.dev</td>
<td align="right">1.712</td>
<td align="right">14.337</td>
<td align="right">5.503</td>
<td align="right">10.369</td>
<td align="right">2.825</td>
<td align="right">1.726</td>
<td align="right">2.132</td>
</tr>
<tr class="even">
<td align="left">coef.var</td>
<td align="right">0.312</td>
<td align="right">0.450</td>
<td align="right">0.605</td>
<td align="right">0.705</td>
<td align="right">0.403</td>
<td align="right">0.282</td>
<td align="right">0.372</td>
</tr>
<tr class="odd">
<td align="left">skewness</td>
<td align="right">0.005</td>
<td align="right">0.067</td>
<td align="right">3.320</td>
<td align="right">0.633</td>
<td align="right">0.322</td>
<td align="right">0.124</td>
<td align="right">1.042</td>
</tr>
<tr class="even">
<td align="left">skew.2SE</td>
<td align="right">0.008</td>
<td align="right">0.127</td>
<td align="right">16.266</td>
<td align="right">1.001</td>
<td align="right">0.410</td>
<td align="right">0.258</td>
<td align="right">1.753</td>
</tr>
<tr class="odd">
<td align="left">kurtosis</td>
<td align="right">-0.391</td>
<td align="right">-0.825</td>
<td align="right">15.143</td>
<td align="right">-1.009</td>
<td align="right">-0.142</td>
<td align="right">0.220</td>
<td align="right">1.441</td>
</tr>
<tr class="even">
<td align="left">kurt.2SE</td>
<td align="right">-0.306</td>
<td align="right">-0.789</td>
<td align="right">37.156</td>
<td align="right">-0.810</td>
<td align="right">-0.093</td>
<td align="right">0.231</td>
<td align="right">1.229</td>
</tr>
<tr class="odd">
<td align="left">normtest.W</td>
<td align="right">0.991</td>
<td align="right">0.980</td>
<td align="right">0.684</td>
<td align="right">0.889</td>
<td align="right">0.965</td>
<td align="right">0.993</td>
<td align="right">0.937</td>
</tr>
<tr class="even">
<td align="left">normtest.p</td>
<td align="right">0.954</td>
<td align="right">0.239</td>
<td align="right">0.000</td>
<td align="right">0.000</td>
<td align="right">0.310</td>
<td align="right">0.886</td>
<td align="right">0.002</td>
</tr>
</tbody>
</table></div>
<p><strong>Question 304.2.2:</strong> Write the code necessary to test again the normality of <code>leic_2011OAC_20to24</code> for the supergroups where the analysis conducted for Question 304.2.1 indicated they are normal, using the function <code>shapiro.test</code>, and draw the respective Q-Q plot.</p>
<p><strong>Question 304.2.3:</strong> Observe the output of the Levene’s test executed below. What does the result tell you about the variance of <code>perc_age_20_to_24</code> in supergroups?</p>
<div class="sourceCode" id="cb234"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/leveneTest.html">leveneTest</a></span><span class="op">(</span><span class="va">leic_2011OAC_20to24</span><span class="op">$</span><span class="va">perc_age_20_to_24</span>, <span class="va">leic_2011OAC_20to24</span><span class="op">$</span><span class="va">supgrpname</span><span class="op">)</span></code></pre></div>
<pre><code>## Levene's Test for Homogeneity of Variance (center = median)
##        Df F value    Pr(&gt;F)    
## group   6  62.011 &lt; 2.2e-16 ***
##       962                      
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
<hr>
<p><small>by <a href="https://sdesabbata.github.io/">Stefano De Sabbata</a> – text licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>, contains public sector information licensed under the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence">Open Government Licence v3.0</a>, code licensed under the <a href="https://www.gnu.org/licenses/gpl-3.0.html">GNU GPL v3.0</a>.</small></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="reproducibility-1.html"><span class="header-section-number">5</span> Reproducibility</a></div>
<div class="next"><a href="comparing-data.html"><span class="header-section-number">7</span> Comparing data</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#exploratory-data-analysis"><span class="header-section-number">6</span> Exploratory data analysis</a></li>
<li><a class="nav-link" href="#introduction"><span class="header-section-number">6.1</span> Introduction</a></li>
<li><a class="nav-link" href="#gglot2-recap"><span class="header-section-number">6.2</span> GGlot2 recap</a></li>
<li>
<a class="nav-link" href="#data-visualisation"><span class="header-section-number">6.3</span> Data visualisation</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#distributions"><span class="header-section-number">6.3.1</span> Distributions</a></li>
<li><a class="nav-link" href="#relationships"><span class="header-section-number">6.3.2</span> Relationships</a></li>
</ul>
</li>
<li><a class="nav-link" href="#exercise-304.1"><span class="header-section-number">6.4</span> Exercise 304.1</a></li>
<li>
<a class="nav-link" href="#exploratory-statistics"><span class="header-section-number">6.5</span> Exploratory statistics</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#descriptive-statistics"><span class="header-section-number">6.5.1</span> Descriptive statistics</a></li></ul>
</li>
<li><a class="nav-link" href="#exercise-304.2"><span class="header-section-number">6.6</span> Exercise 304.2</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/sdesabbata/r-for-geographic-data-science/blob/master/300-exploratory.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/sdesabbata/r-for-geographic-data-science/edit/master/300-exploratory.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Geographic Data Science</strong>" was written by Stefano De Sabbata. It was last built on 2021-09-26.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
